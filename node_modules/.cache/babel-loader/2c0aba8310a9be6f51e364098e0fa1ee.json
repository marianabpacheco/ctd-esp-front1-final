{"ast":null,"code":"import { takeLatest, call, put } from 'redux-saga/effects';\nimport { fetchCharactersSuccess, fetchCharactersError } from '../actions';\n\nfunction* fetchCharactersSaga() {\n  try {\n    const response = yield call(fetch, \"https://rickandmortyapi.com/api/character\");\n    const data = yield response.json();\n    yield put(fetchCharactersSuccess(data.results));\n    const favorito = data.results.map(dataItem => ({ ...dataItem,\n      favorito: false\n    }));\n    yield put(fetchCharactersSuccess(favorito));\n  } catch (error) {\n    yield put(fetchCharactersError(error.message));\n  }\n}\n\nfunction* filterCharactersSaga(_ref) {\n  let {\n    payload\n  } = _ref;\n\n  try {\n    const response = yield call(fetch, `https://rickandmortyapi.com/api/character/?name=${payload}`);\n    const data = yield response.json();\n    yield put(fetchCharactersSuccess(data.results));\n  } catch (error) {\n    yield put(fetchCharactersError(error.message));\n  }\n}\n\nfunction* nextPageCharactersSaga(_ref2) {\n  let {\n    payload\n  } = _ref2;\n\n  try {\n    const response = yield call(fetch, `https://rickandmortyapi.com/api/character?page=${payload}`);\n    const data = yield response.json();\n    yield put(fetchCharactersSuccess(data.results));\n  } catch (error) {\n    yield put(fetchCharactersError(error.message));\n  }\n}\n\nfunction* previousPageCharactersSaga(_ref3) {\n  let {\n    payload\n  } = _ref3;\n\n  try {\n    const response = yield call(fetch, `https://rickandmortyapi.com/api/character?page=${payload}`);\n    const data = yield response.json();\n    yield put(fetchCharactersSuccess(data.results));\n  } catch (error) {\n    yield put(fetchCharactersError(error.message));\n  }\n}\n\nexport default function* sagas() {\n  yield takeLatest('FETCH_CHARACTERS_START', fetchCharactersSaga);\n  yield takeLatest('FILTER_CHARACTERS_START', filterCharactersSaga);\n  yield takeLatest('NEXT_PAGE_CHARACTERS', previousPageCharactersSaga);\n  yield takeLatest('PREVIOUS_PAGE_CHARACTERS', nextPageCharactersSaga);\n}","map":{"version":3,"sources":["C:/Users/maria/OneDrive/Desktop/avalicao-front/ctd-esp-front1-final/src/sagas/index.jsx"],"names":["takeLatest","call","put","fetchCharactersSuccess","fetchCharactersError","fetchCharactersSaga","response","fetch","data","json","results","favorito","map","dataItem","error","message","filterCharactersSaga","payload","nextPageCharactersSaga","previousPageCharactersSaga","sagas"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,IAArB,EAA2BC,GAA3B,QAAsC,oBAAtC;AACA,SAASC,sBAAT,EAAiCC,oBAAjC,QAA6D,YAA7D;;AAEA,UAAUC,mBAAV,GAAgC;AAC5B,MAAI;AACA,UAAMC,QAAQ,GAAG,MAAML,IAAI,CACvBM,KADuB,EAEvB,2CAFuB,CAA3B;AAGA,UAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AAEA,UAAMP,GAAG,CAACC,sBAAsB,CAACK,IAAI,CAACE,OAAN,CAAvB,CAAT;AAEA,UAAMC,QAAQ,GAAGH,IAAI,CAACE,OAAL,CAAaE,GAAb,CAAkBC,QAAD,KAAe,EAE7C,GAAGA,QAF0C;AAG7CF,MAAAA,QAAQ,EAAE;AAHmC,KAAf,CAAjB,CAAjB;AAMA,UAAMT,GAAG,CAACC,sBAAsB,CAACQ,QAAD,CAAvB,CAAT;AACH,GAfD,CAeE,OAAOG,KAAP,EAAc;AACZ,UAAMZ,GAAG,CAACE,oBAAoB,CAACU,KAAK,CAACC,OAAP,CAArB,CAAT;AACH;AAGJ;;AAED,UAAUC,oBAAV,OAA4C;AAAA,MAAb;AAAEC,IAAAA;AAAF,GAAa;;AACxC,MAAI;AACA,UAAMX,QAAQ,GAAG,MAAML,IAAI,CAACM,KAAD,EACtB,mDAAkDU,OAAQ,EADpC,CAA3B;AAGA,UAAMT,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACA,UAAMP,GAAG,CAACC,sBAAsB,CAACK,IAAI,CAACE,OAAN,CAAvB,CAAT;AAEH,GAPD,CAOE,OAAOI,KAAP,EAAc;AACZ,UAAMZ,GAAG,CAACE,oBAAoB,CAACU,KAAK,CAACC,OAAP,CAArB,CAAT;AACH;AACJ;;AAED,UAAUG,sBAAV,QAA8C;AAAA,MAAb;AAAED,IAAAA;AAAF,GAAa;;AAC1C,MAAI;AACF,UAAMX,QAAQ,GAAG,MAAML,IAAI,CACzBM,KADyB,EAExB,kDAAiDU,OAAQ,EAFjC,CAA3B;AAIA,UAAMT,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACA,UAAMP,GAAG,CAACC,sBAAsB,CAACK,IAAI,CAACE,OAAN,CAAvB,CAAT;AACD,GAPD,CAOE,OAAOI,KAAP,EAAc;AACd,UAAMZ,GAAG,CAACE,oBAAoB,CAACU,KAAK,CAACC,OAAP,CAArB,CAAT;AACD;AACF;;AAED,UAAUI,0BAAV,QAAkD;AAAA,MAAb;AAAEF,IAAAA;AAAF,GAAa;;AAChD,MAAI;AACF,UAAMX,QAAQ,GAAG,MAAML,IAAI,CACzBM,KADyB,EAExB,kDAAiDU,OAAQ,EAFjC,CAA3B;AAIA,UAAMT,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACA,UAAMP,GAAG,CAACC,sBAAsB,CAACK,IAAI,CAACE,OAAN,CAAvB,CAAT;AACD,GAPD,CAOE,OAAOI,KAAP,EAAc;AACd,UAAMZ,GAAG,CAACE,oBAAoB,CAACU,KAAK,CAACC,OAAP,CAArB,CAAT;AACD;AACF;;AAGH,eAAe,UAAUK,KAAV,GAAkB;AAC7B,QAAMpB,UAAU,CAAC,wBAAD,EAA2BK,mBAA3B,CAAhB;AACA,QAAML,UAAU,CAAC,yBAAD,EAA4BgB,oBAA5B,CAAhB;AACA,QAAMhB,UAAU,CAAC,sBAAD,EAAyBmB,0BAAzB,CAAhB;AACA,QAAMnB,UAAU,CAAC,0BAAD,EAA6BkB,sBAA7B,CAAhB;AACH","sourcesContent":["import { takeLatest, call, put } from 'redux-saga/effects';\r\nimport { fetchCharactersSuccess, fetchCharactersError } from '../actions';\r\n\r\nfunction* fetchCharactersSaga() {\r\n    try {\r\n        const response = yield call(\r\n            fetch, \r\n            \"https://rickandmortyapi.com/api/character\");\r\n        const data = yield response.json();\r\n    \r\n        yield put(fetchCharactersSuccess(data.results));\r\n\r\n        const favorito = data.results.map((dataItem) => ({\r\n      \r\n            ...dataItem,\r\n            favorito: false,\r\n          \r\n        }));\r\n        yield put(fetchCharactersSuccess(favorito));\r\n    } catch (error) {\r\n        yield put(fetchCharactersError(error.message));\r\n    }\r\n\r\n    \r\n}\r\n\r\nfunction* filterCharactersSaga({ payload }) {\r\n    try {\r\n        const response = yield call(fetch,\r\n            `https://rickandmortyapi.com/api/character/?name=${payload}`\r\n        );\r\n        const data = yield response.json();\r\n        yield put(fetchCharactersSuccess(data.results));\r\n\r\n    } catch (error) {\r\n        yield put(fetchCharactersError(error.message));\r\n    }\r\n}\r\n\r\nfunction* nextPageCharactersSaga({ payload }) {\r\n    try {\r\n      const response = yield call(\r\n        fetch,\r\n        `https://rickandmortyapi.com/api/character?page=${payload}`\r\n      );\r\n      const data = yield response.json();\r\n      yield put(fetchCharactersSuccess(data.results));\r\n    } catch (error) {\r\n      yield put(fetchCharactersError(error.message));\r\n    }\r\n  }\r\n\r\n  function* previousPageCharactersSaga({ payload }) {\r\n    try {\r\n      const response = yield call(\r\n        fetch,\r\n        `https://rickandmortyapi.com/api/character?page=${payload}`\r\n      );\r\n      const data = yield response.json();\r\n      yield put(fetchCharactersSuccess(data.results));\r\n    } catch (error) {\r\n      yield put(fetchCharactersError(error.message));\r\n    }\r\n  }\r\n  \r\n\r\nexport default function* sagas() {\r\n    yield takeLatest('FETCH_CHARACTERS_START', fetchCharactersSaga);\r\n    yield takeLatest('FILTER_CHARACTERS_START', filterCharactersSaga);\r\n    yield takeLatest('NEXT_PAGE_CHARACTERS', previousPageCharactersSaga);\r\n    yield takeLatest('PREVIOUS_PAGE_CHARACTERS', nextPageCharactersSaga);\r\n}"]},"metadata":{},"sourceType":"module"}